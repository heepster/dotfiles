- name: Install ZSH
  package:
    name: "zsh"
    state: "present"

- name: Install Oh My ZSH
  become: no
  shell: |
    sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
  args:
    creates: /home/{{ ansible_user_id }}/.oh-my-zsh


- name: Install ZSH Auto Suggestions
  become: no
  shell: |
    sh -c "git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions"
  args:
    creates: /home/{{ ansible_user_id }}/.oh-my-zsh/custom/plugins/zsh-autosuggestions
